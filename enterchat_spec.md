# EnterChat â€“ ××¤×™×•×Ÿ ×¨×©××™ (×˜×›× ×™)

## ğŸ¯ ××˜×¨×ª ×”××¢×¨×›×ª
×œ×‘× ×•×ª ××¢×¨×›×ª ×¦×³××˜ ×¤× ×™×-××¨×’×•× ×™×ª...
×œ×™××•×¨, ×”× ×” **××¡××š ××¤×™×•×Ÿ ×¨×©××™**, ×›××• ×©×”×™×™×ª ××’×™×© ×‘×—×××” Enter, + **××‘× ×” ×ª×™×§×™×•×ª ××œ×** ×œ×¤×¨×•×™×§×˜ Next.js ×¢×œ Vercel, ×¢× **Firebase** (Auth, Firestore, Storage, Realtime).
×”×›×•×œ ×‘× ×™×¡×•×— ××§×¦×•×¢×™, ×‘×¢×‘×¨×™×ª, ××™××™×Ÿ ×œ×©×××œ, ×•×‘×¨××” ×©××¡×¤×™×§×” ×œ×”×ª×—×™×œ ×¤×™×ª×•×— ××™×™×“×™.

---

# ğŸ“˜ **××¤×™×•×Ÿ ×¨×©××™ â€“ Enter Build Chat**

×¦×³××˜ ×¦×•×•×ª ×“××•×™ Slack ×œ××™×–× Enter

---

## ğŸ¯ **××˜×¨×ª ×”××¢×¨×›×ª**

×œ×‘× ×•×ª ××¢×¨×›×ª ×¦×³××˜ ×¤× ×™×-××¨×’×•× ×™×ª ×œ×¦×•×•×ª ×”×¤×™×ª×•×—/×‘× ×™×™×” ×©×œ Enter, ×”×××¤×©×¨×ª ×ª×§×©×•×¨×ª ×‘×¦×•×•×ª ×‘×–××Ÿ ×××ª, ×—×œ×•×§×ª ×¢×¨×•×¦×™×, ×¡×¤×¨ ××•×¨×—×™× ×¤× ×™××™, ×•× ×™×”×•×œ × ×ª×•× ×™× ×ª×—×ª Firebase.
×”××¢×¨×›×ª ×ª×”×™×” ××‘×•×¡×¡×ª Next.js ×•×ª×•×¤×¥ ×¢×œ ×’×‘×™ Vercel, ×¢× ×¤×•× ×§×¦×™×•×ª Serverless ×œ×¦×•×¨×š ××‘×˜×—×”, ×”×ª×××©×§×•×ª ×•×©×›×‘×ª API ×××•×—×“×ª.

---

# ğŸ§± **×™×¢×“×™× ×¢×™×§×¨×™×™×**

### 1. ×ª×§×©×•×¨×ª ×‘×–××Ÿ ×××ª

* ×©×œ×™×—×ª ×•×§×‘×œ×ª ×”×•×“×¢×•×ª Live ×‘×›×œ ×¢×¨×•×¥.
* ××¤×©×¨×•×ª ×œ×¤×ª×•×— ×¢×¨×•×¦×™× ×œ×¤×™ ×¤×¨×•×™×§×˜×™×/× ×•×©××™×.
* ×”×¦×’×ª ××©×ª××©×™× ×¤×¢×™×œ×™×.

### 2. × ×™×”×•×œ ××©×ª××©×™× ×•×”×¨×©××•×ª

* ×”×ª×—×‘×¨×•×ª ×¢× Firebase Authentication (Email/Password, Google).
* ×ª×¤×§×™×“×™×:

  * **Admin** â€“ ×™×¦×™×¨×ª ×¢×¨×•×¦×™×, ××—×™×§×ª ×”×•×“×¢×•×ª.
  * **Member** â€“ ×©×™××•×© ×©×•×˜×£ ×‘××¢×¨×›×ª.

### 3. ×¡×¤×¨ ××•×¨×—×™× (Guestbook)

* ×¢××•×“ × ×¤×¨×“: `/guestbook`
* ××©×ª××©×™× ×™×›×•×œ×™× ×œ×”×©××™×¨ ×¤×™×“×‘×§, ×•×”×•×“×¢×•×ª ××•×¦×’×•×ª ×‘×¦×™×¨ ×–××Ÿ.
* ×”×•×“×¢×•×ª × ×©××¨×•×ª ×‘××•×¡×£ Firestore ×™×™×¢×•×“×™ ××• ×‘×¢×¨×•×¥ guestbook.

### 4. ×©×›×‘×ª Serverless

×”××¢×¨×›×ª ×ª×›×œ×•×œ ×¤×•× ×§×¦×™×•×ª ×××•×‘×˜×—×•×ª:

* ×©×œ×™×—×ª ×”×•×“×¢×” ×œ×¢×¨×•×¥
* ×™×¦×™×¨×ª ×¢×¨×•×¥ ×—×“×©
* ×©×œ×™×—×ª ×”×•×“×¢×ª ×¤×™×“×‘×§ (guestbook)
* ×§×‘×œ×ª ×¨×©×™××ª ×”×”×•×“×¢×•×ª
  ×›×œ ×”×¤×•× ×§×¦×™×•×ª ×¨×¦×•×ª ×‘×’×™×©×ª **API routes** ×©×œ Next.js ×‘Ö¾Vercel.

### 5. Firestore Database

* ×©××™×¨×ª ×¢×¨×•×¦×™×, ×”×•×“×¢×•×ª, ×¤×¨×•×¤×™×œ×™ ××©×ª××©×™×.
* ×©×™××•×© ×‘Ö¾Security Rules ×›×“×™ ×œ×× ×•×¢ ×’×™×©×” ×œ× ××•×¨×©×™×ª.
* ×©×™××•×© ×‘Ö¾Realtime Updates.

### 6. Observability

* × ×™×”×•×œ ×œ×•×’×™× ×‘Ö¾Vercel (×’×™×©×” ×œ×›×œ ×¤×•× ×§×¦×™×•×ª ×”Ö¾Serverless).
* ××™×ª×•×¨ ×©×’×™××•×ª, ×‘×§×©×•×ª ×›×•×©×œ×•×ª ×•×¤×¢×™×œ×•×ª abnormal.

---

# ğŸ“ **××¨×›×™×˜×§×˜×•×¨×” ×‘×¨××ª-×¢×œ**

```
Next.js (Frontend + Serverless)
     |
     |--- API Routes (Serverless)
     |
Firebase
     |--- Authentication
     |--- Firestore (Channels, Messages, Profiles, Guestbook)
     |--- Storage (×§×‘×¦×™ ×ª××•× ×ª ×¤×¨×•×¤×™×œ / ××•×“×™×•)
     |--- Realtime listeners
```

---

# ğŸ“‚ **××‘× ×” ×ª×™×§×™×•×ª ××•××œ×¥ â€“ Next.js + Firebase + Vercel**

×”×›×•×œ ××•×ª×× ×œ-App Router (Next.js 14/15):

```
root/
â”œâ”€ app/
â”‚  â”œâ”€ layout.tsx
â”‚  â”œâ”€ page.tsx                  # Landing page
â”‚  â”œâ”€ app/
â”‚  â”‚   â”œâ”€ page.tsx              # ××¡×š ×”×¦â€™××˜ ×”×¨××©×™
â”‚  â”‚   â”œâ”€ [channelId]/
â”‚  â”‚   â”‚    â”œâ”€ page.tsx         # ×“×£ ×¢×¨×•×¥ ××¡×•×™×
â”‚  â”œâ”€ guestbook/
â”‚  â”‚   â”œâ”€ page.tsx              # ×¡×¤×¨ ××•×¨×—×™×
â”‚  â”œâ”€ login/
â”‚  â”‚   â”œâ”€ page.tsx
â”‚  â”œâ”€ admin/
â”‚  â”‚   â”œâ”€ page.tsx              # ×œ×•×— ×‘×§×¨×”
â”‚
â”œâ”€ components/
â”‚  â”œâ”€ ChatSidebar.tsx
â”‚  â”œâ”€ ChatRoom.tsx
â”‚  â”œâ”€ MessageInput.tsx
â”‚  â”œâ”€ MessageBubble.tsx
â”‚  â”œâ”€ GuestbookForm.tsx
â”‚  â”œâ”€ GuestbookList.tsx
â”‚
â”œâ”€ lib/
â”‚  â”œâ”€ firebase.ts               # init Firebase client
â”‚  â”œâ”€ firestore.ts              # ×¤×§×•×“×•×ª DB
â”‚  â”œâ”€ auth.ts                   # ×¤×•× ×§×¦×™×•×ª ×œ×”×ª×—×‘×¨×•×ª
â”‚  â”œâ”€ server/                   # ×¡×¤×¨×™×™×” ×™×™×¢×•×“×™×ª ×œ×¤×•× ×§×¦×™×•×ª ×©×¨×ª
â”‚  â”‚    â”œâ”€ messages.ts          # ×›×ª×™×‘×”/×§×¨×™××” ×©×œ ×”×•×“×¢×•×ª
â”‚  â”‚    â”œâ”€ channels.ts          # ×™×¦×™×¨×ª ×¢×¨×•×¦×™×
â”‚
â”œâ”€ app/api/
â”‚  â”œâ”€ messages/
â”‚  â”‚     â”œâ”€ route.ts            # POST / GET â€“ ×”×•×“×¢×•×ª
â”‚  â”œâ”€ channels/
â”‚  â”‚     â”œâ”€ route.ts            # ×™×¦×™×¨×ª ×¢×¨×•×¥ ×—×“×©
â”‚  â”œâ”€ guestbook/
â”‚        â”œâ”€ route.ts            # ×¤×•×¡×˜ ×—×“×© ×œ×¡×¤×¨ ××•×¨×—×™×
â”‚
â”œâ”€ styles/
â”‚  â”œâ”€ globals.css
â”‚  â”œâ”€ theme.css
â”‚
â”œâ”€ types/
â”‚  â”œâ”€ message.d.ts
â”‚  â”œâ”€ channel.d.ts
â”‚  â”œâ”€ user.d.ts
â”‚
â”œâ”€ utils/
â”‚  â”œâ”€ date.ts
â”‚  â”œâ”€ validation.ts
â”‚  â”œâ”€ roles.ts
â”‚
â”œâ”€ firebase.json
â”œâ”€ firestore.rules
â”œâ”€ package.json
```

---

# ğŸ”¥ **××‘× ×” × ×ª×•× ×™× (Firestore) ××œ×**

### 1. ××•×¡×£: `profiles`

```
profiles/
  uid/
    displayName: string
    role: "admin" | "member"
    photoURL: string
    createdAt: timestamp
```

### 2. ××•×¡×£: `channels`

```
channels/
  channelId/
    name: string
    description: string
    createdAt: timestamp
    createdBy: uid
```

### 3. ×ª×ª-××•×¡×£: `channels/{channelId}/messages`

```
channels/{channelId}/messages/
  msgId/
    userId: uid
    content: string
    createdAt: timestamp
    editedAt: timestamp | null
```

### 4. ××•×¡×£: `guestbook`

```
guestbook/
  entryId/
    userId: uid
    displayName: string
    message: string
    createdAt: timestamp
```

---

# ğŸ” **×›×œ×œ×™ ××‘×˜×—×” (Security Rules) â€“ ×ª××¦×™×ª**

### ×§×¨×™××ª ×”×•×“×¢×•×ª:

```txt
allow read: if request.auth != null;
```

### ×›×ª×™×‘×ª ×”×•×“×¢×”:

```txt
allow write: if request.auth != null
             && request.resource.data.userId == request.auth.uid;
```

### ×¢×¨×•×¦×™×:

```txt
allow read: if true;
allow write: if request.auth.token.role == 'admin';
```

### Guestbook:

```txt
allow write: if request.auth != null;
```

---

# ğŸš€ **×”××©×š â€“ ××” ××ª×” ×¨×•×¦×” ×©××›×™×Ÿ ×œ×š ×¢×›×©×™×•?**

×× ×™ ×™×›×•×œ ×œ×›×ª×•×‘ ×œ×š ××—×“ ××ª×•×š ×”×‘××™×:

### âœ”ï¸ ×§×•×“ ×”×ª×—×œ×ª×™ ×œÖ¾`firebase.ts`

### âœ”ï¸ ××¡×š ×¦×³××˜ ×¨××©×•× ×™ (UI ××œ× + ×”×ª×—×‘×¨×•×ª ×œ×¤×™×™×¨×¡×˜×•×¨)

### âœ”ï¸ API routes ××•×›× ×™×

### âœ”ï¸ ×’×¨×¡×” ×¨××©×•× ×™×ª ×©×œ Guestbook

### âœ”ï¸ UI ×©×œ× ×“××•×™-Slack (×¢× Tailwind + Shadcn)

××” ××ª×” ×¨×•×¦×” ×œ×”×ª×—×™×œ ×œ×¤×ª×— ×§×•×“×?
